<!doctype html>
<html lang="id">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Manage Menu</title><link rel="stylesheet" href="../css/style.css"></head>
<body>
  <header class="site-header"><h1>Admin - Menu</h1><nav><a href="dashboard.html">Dashboard</a></nav></header>
  <main class="container">
    <h2>Menu Management</h2>
    <div id="admin-menu-list"></div>
    <h3>Add Menu</h3>
    <form id="add-menu-form">
      <div class="form-group"><label>Title</label><input name="title"></div>
      <div class="form-group"><label>Description</label><input name="desc"></div>
      <div class="form-group"><label>Price</label><input name="price" type="number"></div>
      <div style="margin-top:.5rem"><button class="btn" type="submit">Add</button></div>
    </form>
  </main>
  <script src="../js/api_ooad.js"></script>
  <script>
    function refresh(){ PSApi.getMenuList().then(m=>document.getElementById('admin-menu-list').innerHTML=''); }
    document.getElementById('add-menu-form').addEventListener('submit',e=>{
      e.preventDefault(); const f=e.target; PSApi.addMenu({title:f.title.value,desc:f.desc.value,price:Number(f.price.value)}).then(()=>{alert('Menu added'); window.location.reload();})
    })
  </script>
  <script src="../js/app.js"></script>
</body>
</html>
