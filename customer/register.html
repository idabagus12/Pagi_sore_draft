<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Register â€” Pagi Sore</title>
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>
  <header class="site-header"><h1>Pagi Sore</h1><nav><a href="login.html">Login</a> <a href="menu.html">Menu</a></nav></header>
  <main class="container">
    <h2>Register</h2>
    <form id="register-form">
      <div class="form-group"><label>Nama</label><input name="name" required></div>
      <div class="form-group"><label>Nomor Telepon</label><input name="phone" type="tel" required></div>
      <div class="form-group"><label>Alamat</label><input name="address" required></div>
      <div class="form-group"><label>Password</label><input name="password" type="password" required></div>
      <div style="margin-top:.5rem"><button class="btn" type="submit">Daftar</button></div>
    </form>
  </main>
  <script src="../js/api_ooad.js"></script>
  <script>
    document.getElementById('register-form').addEventListener('submit',e=>{
      e.preventDefault(); const f=e.target;
      PSApi.customerRegister({
        name:f.name.value,
        phone:f.phone.value,
        address:f.address.value,
        password:f.password.value
      }).then(()=>{ alert('Terdaftar. Silakan login.'); window.location='login.html'; }).catch(err=>alert(err.message||err));
    })
  </script>
</body>
</html>
